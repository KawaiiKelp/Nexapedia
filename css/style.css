/* =========================== 
    1. ê¸°ë³¸ ì„¤ì • ë° ë³€ìˆ˜ ì •ì˜ (Global Styles & Variables)
    =========================== */

/* Noto Sans KR í°íŠ¸ ë¡œë“œ */
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap');

/* ëª¨ë“  ìš”ì†Œì— í°íŠ¸ ì ìš© */
* {
    font-family: 'Noto Sans KR', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

/* ë¶€ë“œëŸ¬ìš´ ìŠ¤í¬ë¡¤ íš¨ê³¼ ì ìš© */
html {
    scroll-behavior: smooth;
}

/* CSS ë³€ìˆ˜ (Custom Properties) ì •ì˜ */
:root {
    /* âœ¨ Deep Blue ê³„ì—´ ê°•ì¡°ìƒ‰ (Primary Colors) */
    --color-primary: #3b5998; /* ë©”ì¸ ê°•ì¡°ìƒ‰ (ë„¤ì´ë¹„ ë¸”ë£¨) */
    --color-primary-dark: #2d4373; /* ë©”ì¸ ê°•ì¡°ìƒ‰ì˜ ì–´ë‘ìš´ ë²„ì „ */
    --color-secondary: #007bff; /* ë§í¬, ë³´ì¡° ê°•ì¡°ìƒ‰ (ë°ì€ íŒŒë‘) */

    /* ğŸ“„ ë°°ê²½ ë° í…ìŠ¤íŠ¸ ìƒ‰ìƒ (Background & Text Colors) */
    --color-background: #f8f9fa; /* ì „ì²´ ë°°ê²½ìƒ‰ (ë§¤ìš° ë°ì€ íšŒìƒ‰) */
    --color-card-bg: #ffffff; /* ì¹´ë“œ ë° í—¤ë” ë°°ê²½ìƒ‰ (í°ìƒ‰) */
    --color-text-dark: #212529; /* ê¸°ë³¸ í…ìŠ¤íŠ¸ ìƒ‰ìƒ (ê±°ì˜ ê²€ì •) */
    --color-border: #e9ecef; /* ê²½ê³„ì„ /êµ¬ë¶„ì„  ìƒ‰ìƒ (ì˜…ì€ íšŒìƒ‰) */
}

/* body ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
body {
    margin: 0;
    padding: 0;
    background-color: var(--color-background);
    color: var(--color-text-dark);
}

/* ===========================
    2. í—¤ë” ë””ìì¸ (Header Design)
    =========================== */

.app-header {
    width: 60%; /* ë³¸ë¬¸ ë ˆì´ì•„ì›ƒê³¼ ë„ˆë¹„ ë§ì¶¤ */
    height: 80px;
    
    background-color: var(--color-card-bg);
    border-bottom: 1px solid var(--color-border);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05); /* ì˜…ì€ í•˜ë‹¨ ê·¸ë¦¼ì */

    /* í—¤ë”ë¥¼ ìƒë‹¨ì— ê³ ì •í•˜ê³  ì¤‘ì•™ ì •ë ¬ */
    position: fixed;
    top: 0; 
    left: 50%;
    transform: translateX(-50%); 
    
    z-index: 1000; /* ë‹¤ë¥¸ ìš”ì†Œ ìœ„ì— í‘œì‹œ */
    
    /* Flexboxë¥¼ ì‚¬ìš©í•˜ì—¬ ë‚´ë¶€ ìš”ì†Œ ì •ë ¬ */
    display: flex;
    align-items: center; /* ì„¸ë¡œ ì¤‘ì•™ ì •ë ¬ */
    justify-content: space-between; /* ì–‘ ë ì •ë ¬ */
    padding: 0 20px;
}

/* ===========================
    3. ë¡œê³  ë° ë‚´ë¹„ê²Œì´ì…˜ (Logo & Navigation)
    =========================== */

.logo {
    width: 250px; /* ë¡œê³  ì˜ì—­ ë„ˆë¹„ */
    height: 100%;
}

.logo-link {
    /* <a> íƒœê·¸ë¥¼ Flex ì»¨í…Œì´ë„ˆë¡œ ì„¤ì • */
    display: flex;
    align-items: center; /* ì„¸ë¡œ ì¤‘ì•™ ì •ë ¬ */
    height: 100%;
    color: var(--color-text-dark);
    text-decoration: none; /* ë°‘ì¤„ ì œê±° */
}

.logo-mark {
    margin-right: 8px; /* ë¡œê³  ì´ë¯¸ì§€ì™€ í…ìŠ¤íŠ¸ ì‚¬ì´ ê°„ê²© */
    display: flex;
    align-items: center;
}

.logo-text {
    font-size: 1.8em; /* ë¡œê³  í…ìŠ¤íŠ¸ í¬ê¸° */
    font-weight: 900; /* ë§¤ìš° êµµê²Œ */
    color: var(--color-primary-dark);
}

/* ë‚´ë¹„ê²Œì´ì…˜ ì˜ì—­ */
.nav {
    display: flex; /* ë²„íŠ¼ë“¤ì„ ê°€ë¡œë¡œ ë‚˜ì—´ */
    gap: 10px; /* ë²„íŠ¼ë“¤ ì‚¬ì´ì˜ ê°„ê²© */
    align-self: center;
}

/* í™œì„± ë‚´ë¹„ê²Œì´ì…˜ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
.nav-btn.active {
    background-color: var(--color-primary);
    color: var(--color-card-bg);
    border-color: var(--color-primary);
    box-shadow: 0 2px 4px rgba(59, 89, 152, 0.3); /* í™œì„± ìƒíƒœ ê·¸ë¦¼ì */
}

/* ê¸°ë³¸ ë‚´ë¹„ê²Œì´ì…˜ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
.nav-btn {
    height: 35px;
    padding: 0 18px; 

    background-color: #f0f0f0;
    border: 1px solid var(--color-border);
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.9em;
    font-weight: 600;
    color: var(--color-text-dark);
    transition: all 0.2s; /* ë¶€ë“œëŸ¬ìš´ ì „í™˜ íš¨ê³¼ */
}

/* í˜¸ë²„ ì‹œ ìŠ¤íƒ€ì¼ (í™œì„± ë²„íŠ¼ ì œì™¸) */
.nav-btn:hover:not(.active) {
    background-color: #e0e0e0;
}

/* ===========================
    4. ë©”ì¸ ë ˆì´ì•„ì›ƒ (Main Layout)
    =========================== */

.layout {
    display: flex;
    gap: 25px; /* ì‚¬ì´ë“œë°”ì™€ ì½˜í…ì¸  ì‚¬ì´ ê°„ê²© */
    /* ê³ ì •ëœ í—¤ë”(80px)ë¥¼ í”¼í•˜ê¸° ìœ„í•œ ìƒë‹¨ ì—¬ë°± (100px) */
    margin: 100px auto 0 auto; 
    width: 60%; /* ì „ì²´ ë ˆì´ì•„ì›ƒ ë„ˆë¹„ */
    max-width: 60%;
    /* ë·° ì „í™˜ì„ ìœ„í•´ position: relative ì„¤ì • */
    position: relative; 
}

/* ì‚¬ì´ë“œë°” ì˜ì—­ */
.sidebar {
    width: 300px; /* ê³ ì • ë„ˆë¹„ */
    flex-shrink: 0; /* ë„ˆë¹„ê°€ ì¤„ì–´ë“¤ì§€ ì•Šë„ë¡ ì„¤ì • */
    /* ì‚¬ì´ë“œë°”ëŠ” ì „í™˜ íš¨ê³¼ë¥¼ ì ìš©í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ z-index ë†’ê²Œ ì„¤ì • */
    z-index: 10;
}

/* ì½˜í…ì¸  ì˜ì—­ (ê²°ê³¼ í‘œì‹œ) */
.content {
    flex-grow: 1; /* ë‚¨ì€ ê³µê°„ì„ ëª¨ë‘ ì°¨ì§€ */
}

/* ===========================
    5. UI ìš”ì†Œ (íŒ¨ë„ & ì¹´ë“œ, ë²„íŠ¼)
    =========================== */

/* 5.1. ì‚¬ì´ë“œë°” íŒ¨ë„ (Panel) ìŠ¤íƒ€ì¼ */
.panel {
    background-color: var(--color-card-bg);
    border: 1px solid var(--color-border);
    border-radius: 10px; 
    padding: 25px;
    margin-bottom: 25px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* ëˆˆì— ë„ëŠ” ê·¸ë¦¼ì */
}

.panel h2 {
    color: var(--color-primary);
    border-bottom: 2px solid var(--color-border);
    padding-bottom: 10px;
    margin-top: 0;
    margin-bottom: 20px;
}

/* ê²°ê³¼ ë·° í—¤ë” (ì œëª© + ì €ì¥ ë²„íŠ¼ ë“±) */
.result-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 25px;
}

/* 5.2. ê²°ê³¼ ì˜ì—­ ì¹´ë“œ (Card) ìŠ¤íƒ€ì¼ */
.card {
    background-color: var(--color-card-bg);
    border: none;
    border-radius: 10px;
    padding: 30px;
    margin-bottom: 25px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* ëˆˆì— ë„ëŠ” ê·¸ë¦¼ì */
}

.card h3 {
    color: var(--color-text-dark);
    font-size: 1.5em;
    margin-top: 0;
    border-bottom: 2px solid var(--color-border);
    padding-bottom: 10px;
    margin-bottom: 15px;
}

/* ê²€ìƒ‰ ê¸°ë¡ ë·°ì˜ ë©”ì¸ ì œëª© */
#history-view .result-header h2 {
    font-size: 2em;
    margin-top: 0;
}

/* 5.3. í¼ ì…ë ¥ì°½ (Input) ìŠ¤íƒ€ì¼ */
input[type="text"], input[type="search"] {
    width: 100%;
    padding: 12px;
    border: 1px solid #ccc;
    border-radius: 6px;
    font-size: 1em;
    box-sizing: border-box; /* íŒ¨ë”©ê³¼ í…Œë‘ë¦¬ê°€ ë„ˆë¹„ì— í¬í•¨ë˜ë„ë¡ ì„¤ì • */
}

.field-label {
    display: block;
    font-weight: 600;
    margin-top: 15px;
    margin-bottom: 5px;
    font-size: 0.95em;
    color: var(--color-text-dark);
}

/* 5.4. ë²„íŠ¼ (Button) ìŠ¤íƒ€ì¼ */
.primary-btn {
    /* ë©”ì¸ ì•¡ì…˜ ë²„íŠ¼ */
    background-color: var(--color-primary);
    color: white;
    font-size: 1.1em;
    transition: background-color 0.3s;
}

.primary-btn:hover {
    background-color: var(--color-primary-dark);
}

.secondary-btn {
    /* ë³´ì¡° ì•¡ì…˜ ë²„íŠ¼ (ì˜ˆ: ì¬ê²€ìƒ‰, ì‚­ì œ) */
    background-color: var(--color-card-bg);
    color: var(--color-primary);
    border: 2px solid var(--color-primary);
    font-size: 1.1em;
    margin-top: 1.1em;
    transition: background-color 0.3s;
}

.secondary-btn:hover {
    background-color: #e7ebff; /* ì˜…ì€ íŒŒë€ìƒ‰ í˜¸ë²„ íš¨ê³¼ */
}

/* ===========================
    6. ê²€ìƒ‰ ê²°ê³¼ ìƒì„¸ ìš”ì†Œ ìŠ¤íƒ€ì¼
    =========================== */

/* ë‚œì´ë„ë³„ ì„¤ëª… ì»¨í…Œì´ë„ˆ */
.levels-container {
    display: flex;
    flex-direction: column;
    gap: 25px;
}

/* ê°œë³„ ë‚œì´ë„ ì„¤ëª… ë¸”ë¡ */
.level-explanation {
    padding: 15px;
    border: 1px solid var(--color-border);
    border-radius: 8px;
    background-color: var(--color-background); /* ì¹´ë“œ ë°°ê²½ê³¼ êµ¬ë¶„ë˜ëŠ” ìƒ‰ìƒ */
}

.level-explanation h4 {
    color: var(--color-primary-dark);
    font-size: 1.1em;
    font-weight: 700;
    margin-top: 0;
    margin-bottom: 10px;
    border-bottom: 1px dashed #ccc;
    padding-bottom: 5px;
}

/* ë‚œì´ë„ ê·¸ë£¹ (ë¼ë””ì˜¤ ë²„íŠ¼) */
.level-group {
    display: flex;
    gap: 20px;
    margin-top: 10px;
    margin-bottom: 20px;
}

.level-group label {
    display: flex;
    align-items: center;
    gap: 5px;
    font-weight: 500;
}

/* ì˜µì…˜ íŒ¨ë„ ë‚´ë¶€ ìŠ¤íƒ€ì¼ (ì²´í¬ë°•ìŠ¤) */
#options-panel label {
    display: flex;
    align-items: center;
    margin-bottom: 8px;
    gap: 8px;
    font-weight: 500;
}

/* ===========================
    7. ë¹„êµ í…Œì´ë¸” (Comparison Table)
    =========================== */

/* í…Œì´ë¸”ì´ í™”ë©´ì„ ë²—ì–´ë‚  ê²½ìš° ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•˜ê²Œ í•¨ */
.table-wrapper {
    overflow-x: auto;
}

#compare-table {
    width: 100%;
    border-collapse: collapse; /* ì…€ ê²½ê³„ì„  ë³‘í•© */
    font-size: 0.95em;
    table-layout: fixed; /* ê³ ì • ë ˆì´ì•„ì›ƒìœ¼ë¡œ ì…€ ë„ˆë¹„ ì¼ì •í•˜ê²Œ ìœ ì§€ */
}
/* í…Œì´ë¸” í—¤ë” */
#compare-table thead th {
    background-color: var(--color-primary);
    color: var(--color-card-bg);
    padding: 15px 10px;
    text-align: left;
    font-weight: 600;
    border: none;
}
/* í…Œì´ë¸” ë³¸ë¬¸ ì…€ */
#compare-table tbody td {
    padding: 12px 10px;
    border-bottom: 1px solid var(--color-border);
    vertical-align: top; /* í…ìŠ¤íŠ¸ë¥¼ ìœ„ìª½ìœ¼ë¡œ ì •ë ¬ */
    line-height: 1.5;
}

/* ì§ìˆ˜ í–‰ ë°°ê²½ìƒ‰ ì§€ì • (ê°€ë…ì„± í–¥ìƒ) */
#compare-table tbody tr:nth-child(even) {
    background-color: #f3f3f3;
}

/* ì¦ê²¨ì°¾ê¸° ì €ì¥ ë²„íŠ¼ (ê²°ê³¼ ë·° ë‚´ë¶€) */
#save-favorite-btn {
    background: none;
    border: 1px solid var(--color-primary);
    color: var(--color-primary);
    padding: 8px 15px;
    border-radius: 5px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.2s;
}

/* ì¦ê²¨ì°¾ê¸° ë²„íŠ¼ - ì¦ê²¨ì°¾ê¸° ë“±ë¡ëœ ìƒíƒœ */
#save-favorite-btn.favorited {
    background-color: #ffeb3b; /* ê°•ì¡°ìƒ‰ (ë…¸ë‘) */
    color: var(--color-text-dark);
    border-color: #ffc107;
}


/* ===========================
    8. í™˜ì˜/ë„ì›€ë§ ë·° (Welcome View)
    =========================== */

#welcome-view h1 {
    font-size: 2em;
    color: var(--color-primary-dark);
    margin-bottom: 10px;
}

#welcome-view .subtitle {
    font-size: 1.1em;
    color: #555;
    margin-bottom: 30px;
}

.hint-list {
    list-style: disc inside;
    padding-left: 0;
    line-height: 1.6;
    color: #444;
}

.hint-list li {
    margin-bottom: 8px;
}

/* ===========================
    9. ì—°ê´€ ê°œë… (Chip List)
    =========================== */

/* ì—°ê´€ ê°œë… ëª©ë¡ ì»¨í…Œì´ë„ˆ */
.chip-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-wrap: wrap; /* ìš”ì†Œê°€ ë„˜ì¹  ê²½ìš° ì¤„ ë°”ê¿ˆ */
    gap: 10px;
}

/* ê°œë³„ ì—°ê´€ ê°œë… ì¹© */
.chip {
    background-color: #e0f7fa; /* ì˜…ì€ í•˜ëŠ˜ìƒ‰ ë°°ê²½ */
    color: var(--color-primary-dark);
    padding: 8px 15px;
    border-radius: 20px; /* ë‘¥ê·¼ ëª¨ì„œë¦¬ */
    font-size: 0.9em;
    font-weight: 600;
    border: 1px solid #b2ebf2;
    cursor: pointer;
    transition: background-color 0.2s;
}

.chip:hover {
    background-color: #b2ebf2; /* ì§„í•œ í•˜ëŠ˜ìƒ‰ í˜¸ë²„ íš¨ê³¼ */
}

/* ===========================
    10. ê¸°íƒ€ ìœ í‹¸ë¦¬í‹° (Utility & Footer)
    =========================== */

/* í‘¸í„° */
.app-footer {
    max-width: 60%;
    margin: 0 auto; 
    text-align: center;
    font-size: 0.8em;
    color: #999;
    border-top: 1px solid var(--color-border); 
    padding-top: 15px;
    padding-bottom: 30px; /* í•˜ë‹¨ ì—¬ë°± ì¶”ê°€ */
}

/* ê²€ìƒ‰ ê¸°ë¡/ì¦ê²¨ì°¾ê¸° ëª©ë¡ ì»¨í…Œì´ë„ˆ */
.list {
    list-style: none;
    padding: 0;
    margin: 0;
}

/* ê°œë³„ ê²€ìƒ‰ ê¸°ë¡/ì¦ê²¨ì°¾ê¸° í•­ëª© */
.history-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 0;
    border-bottom: 1px dashed var(--color-border);
    font-size: 1.0em;
}

.history-item:last-child {
    border-bottom: none; /* ë§ˆì§€ë§‰ í•­ëª©ì˜ í•˜ë‹¨ ì„  ì œê±° */
}

.history-query {
    font-weight: 600;
    color: var(--color-text-dark);
}

/* ê¸°ë¡/ì¦ê²¨ì°¾ê¸° ë·° ë‚´ë¶€ ë²„íŠ¼ */
.history-item .secondary-btn {
    /* ì¬ê²€ìƒ‰/ì‚­ì œ ë²„íŠ¼ ìŠ¤íƒ€ì¼ ë¯¸ì„¸ ì¡°ì • */
    margin-top: 0;
    padding: 5px 10px;
    font-size: 0.85em;
    height: auto;
}

/* ë‚´ìš©ì´ ì—†ì„ ë•Œ í‘œì‹œë˜ëŠ” í”Œë ˆì´ìŠ¤í™€ë” í…ìŠ¤íŠ¸ */
.placeholder {
    color: #888;
    font-style: italic;
    padding: 10px 0;
}


/* ===========================
    11. ë·° ì „í™˜ ì• ë‹ˆë©”ì´ì…˜ (View Transition)
    =========================== */

/* ëª¨ë“  ë·° ì„¹ì…˜ì— ê¸°ë³¸ íŠ¸ëœì§€ì…˜ ì ìš© */
.layout section[id$="-view"] {
    /* 0.3ì´ˆ ë™ì•ˆ opacity, height, margin, visibilityë¥¼ ë¶€ë“œëŸ½ê²Œ ì „í™˜ */
    transition: opacity 0.3s ease-in-out, 
                height 0.3s ease-in-out, 
                margin 0.3s ease-in-out, 
                visibility 0.3s ease-in-out;
    overflow: hidden; /* ë†’ì´ê°€ ì¤„ì–´ë“¤ ë•Œ ë‚´ìš©ì´ ì˜ë¦¬ë„ë¡ ì„¤ì • */
    flex-grow: 1; /* í‘œì‹œë  ë•ŒëŠ” ë ˆì´ì•„ì›ƒ ê³µê°„ì„ ì°¨ì§€í•˜ë„ë¡ í•©ë‹ˆë‹¤. */
    width: 100%; /* ë„ˆë¹„ëŠ” 100%ë¥¼ ì°¨ì§€í•˜ê²Œ ì„¤ì • */
}

/* ìˆ¨ê²¨ì§„(hidden) ë·°ì˜ ìŠ¤íƒ€ì¼ (ì• ë‹ˆë©”ì´ì…˜ì´ ì‘ë™í•˜ëŠ” í•µì‹¬) */
/* display: none ëŒ€ì‹  opacityì™€ heightë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. */
.layout section[id$="-view"].hidden {
    opacity: 0 !important;
    height: 0 !important;
    padding-top: 0 !important;
    padding-bottom: 0 !important;
    margin-top: 0 !important;
    margin-bottom: 0 !important;
    visibility: hidden !important; 
}
/* ê¸°ì¡´ .hidden í´ë˜ìŠ¤ë„ ë§Œì•½ì„ ìœ„í•´ opacityì™€ visibilityë§Œ ì ìš©í•©ë‹ˆë‹¤. */
.hidden {
    opacity: 0 !important;
    visibility: hidden !important;
}

/* í‘œì‹œë˜ëŠ” ë·°ì˜ ìŠ¤íƒ€ì¼ (transitionì´ ì ìš©ë˜ëŠ” ê¸°ë³¸ ìƒíƒœ) */
.layout section[id$="-view"]:not(.hidden) {
    opacity: 1;
    visibility: visible;
    /* heightì™€ marginì€ ì½˜í…ì¸ ì— ë”°ë¼ ìë™ìœ¼ë¡œ ê³„ì‚°ë˜ê²Œ ë‘¡ë‹ˆë‹¤. */
    /* flex-grow: 1ì´ ì ìš©ë˜ì–´ ê³µê°„ì„ ì°¨ì§€í•©ë‹ˆë‹¤. */
}